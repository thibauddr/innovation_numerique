<div class="row">
  <div [ngSwitch]="account !== null" class="mt-2">
    <!-- #region User is connected -->
    <div *ngSwitchCase="true">
      <!-- #region Carousel -->
      <p-carousel [value]="fields" styleClass="custom-carousel" [numVisible]="3" [numScroll]="3" [circular]="false">
        <ng-template let-field pTemplate="item">
          <div class="field-item">
            <div class="field-item-content">
              <div class="row">
                <div class="col-md-2">
                  <p><i class="fa-solid fa-temperature-high"></i> {{ temperatureValue }}°</p>
                  <p><i class="fa-solid fa-lightbulb"></i> {{ luminosityValue }} lux</p>
                </div>
                <div class="col-md-2">
                  <p><i class="fa-solid fa-droplet"></i> {{ humidityValue }} %</p>
                  <p><i class="fa-solid fa-cloud-showers-heavy"></i> {{ raimValue }} mm</p>
                </div>
                <div class="col-md-6">
                  <h4 class="p-mb-1">{{ field.name }}</h4>
                  <p>{{ field.description }}</p>
                </div>
                <div class="col-md-2">
                  <button
                    pButton
                    pRipple
                    type="button"
                    icon="fa-solid fa-eye"
                    class="p-button-rounded p-button-outlined"
                    (click)="viewFieldPage(field.id)"
                  ></button>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </p-carousel>
      <!-- #endregion -->
      <div class="row">
        <div class="col-md-5">
          <h4 jhiTranslate="global.menu.yesterday">Yesterday</h4>
          <p-table [value]="alertYesterday">
            <ng-template pTemplate="header">
              <tr>
                <th scope="col"><span jhiTranslate="herveApp.sensor.detail.title">Sensor</span></th>
                <th scope="col"><span jhiTranslate="herveApp.sensor.minThreshold">Min threshold</span></th>
                <th scope="col"><span jhiTranslate="herveApp.sensor.threshold">Threshold</span></th>
                <th scope="col"><span jhiTranslate="herveApp.sensor.sensorData">Value</span></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-data>
              <tr>
                <td>{{ data.sensor.name }}</td>
                <td>{{ data.sensor.minThreshold }}  {{ data.unit }}</td>
                <td>{{ data.sensor.threshold }}  {{ data.unit }}</td>
                <td>{{ data.value }} {{ data.unit }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        <div class="col-md-5">
          <h4 jhiTranslate="global.menu.today">Today</h4>
          <p-messages severity="error" *ngFor="let data of alertToday">
            <ng-template pTemplate>
              <div class="ml-2">{{ data.sensor.name + ' - ' + data.sensor.field + ' - ' + data.value + ' ' + data.unit }}</div>
            </ng-template>
          </p-messages>
        </div>
        <!-- #region Temperature -->
        <div class="col-md-2 thermometer">
          <p-timeline [value]="TEMPERATURE_SCALE" align="alternate">
            <ng-template pTemplate="marker" let-event>
              <span class="custom-marker shadow-2">
                <i [ngClass]="event.icon"></i>
              </span>
            </ng-template>
            <ng-template pTemplate="content" let-event> &#123;&#123;event.status&#125;&#125; </ng-template>
          </p-timeline>
        </div>
        <!-- #endregion -->
      </div>
    </div>
    <!-- #endregion -->
    <!-- #region User is'nt connected -->
    <div *ngSwitchCase="false">
      <div>
        <h1 class="display-4"><span jhiTranslate="home.title">Hervé</span></h1>
      </div>
      <div class="row">
        <div class="col-md-3">
          <span class="herve img-fluid rounded"></span>
        </div>
        <div class="col-md-9">
          <div class="alert alert-warning">
            <span jhiTranslate="global.messages.info.authenticated.prefix">If you want to </span>
            <a class="alert-link" (click)="login()" jhiTranslate="global.messages.info.authenticated.link">sign in</a>
          </div>

          <div class="alert alert-warning">
            <span jhiTranslate="global.messages.info.register.noaccount">You don't have an account yet?</span>&nbsp;
            <a class="alert-link" routerLink="account/register" jhiTranslate="global.messages.info.register.link">Register a new account</a>
          </div>
        </div>
      </div>
    </div>
    <!-- #endregion -->
  </div>
</div>
